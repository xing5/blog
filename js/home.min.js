/*! home.min.js 2017-01-07 */
!function(a){if(a("#sidebar").hasClass("fixed")){var b=a("#sidebar").width()/a("#sidebar").parent().width();a("#sidebar").width(a("#sidebar").width()-2*parseFloat(a("#sidebar").parent().css("padding-right"))*b)}a("#wrap").scroll(function(){var b=a(this).scrollTop();a("#sidebar.fixed").css("top",Math.max(b-100,0)),b>a("#sidebar").height()&&!a("#sidebar").hasClass("fixed")?a("#btn-btt").show():a("#btn-btt").hide()});var c=a("#search-form-wrap"),d=!1,e=200,f=function(){d=!0},g=function(a){setTimeout(function(){d=!1,a&&a()},e)};a("#nav-search-btn").on("click",function(){d||(f(),c.addClass("on"),g(function(){a(".search-form-input").focus()}))}),a(".search-form-input").on("blur",function(){f(),c.removeClass("on"),g()}),a("body").on("click",function(){a(".article-share-box.on").removeClass("on")}).on("click",".article-share-link",function(b){b.stopPropagation();var c=a(this),d=c.attr("data-url"),e=encodeURIComponent(d),f="article-share-box-"+c.attr("data-id"),g=c.offset();if(a("#"+f).length){var h=a("#"+f);if(h.hasClass("on"))return void h.removeClass("on")}else{var i=['<div id="'+f+'" class="article-share-box">','<input class="article-share-input" value="'+d+'">','<div class="article-share-links">','<a href="https://twitter.com/intent/tweet?url='+e+'" class="article-share-twitter" target="_blank" title="Twitter"></a>','<a href="https://www.facebook.com/sharer.php?u='+e+'" class="article-share-facebook" target="_blank" title="Facebook"></a>','<a href="http://pinterest.com/pin/create/button/?url='+e+'" class="article-share-pinterest" target="_blank" title="Pinterest"></a>','<a href="https://plus.google.com/share?url='+e+'" class="article-share-google" target="_blank" title="Google+"></a>',"</div>","</div>"].join(""),h=a(i);a("body").append(h)}a(".article-share-box.on").hide(),h.css({top:g.top+25,left:g.left}).addClass("on")}).on("click",".article-share-box",function(a){a.stopPropagation()}).on("click",".article-share-box-input",function(){a(this).select()}).on("click",".article-share-box-link",function(a){a.preventDefault(),a.stopPropagation(),window.open(this.href,"article-share-box-window-"+Date.now(),"width=500,height=450")}),a(".article-entry").each(function(b){a(this).find("img").each(function(){if(!a(this).parent().hasClass("fancybox")){var b=this.alt;b&&a(this).after('<span class="caption">'+b+"</span>"),a(this).wrap('<a href="'+this.src+'" title="'+b+'" class="fancybox"></a>')}}),a(this).find(".fancybox").each(function(){a(this).attr("rel","article"+b)})}),a.fancybox&&a(".fancybox").fancybox();var h=a("#container"),i=!1,j=200,k=function(){i=!0},l=function(){setTimeout(function(){i=!1},j)};a("#main-nav-toggle").on("click",function(){i||(k(),h.toggleClass("mobile-nav-on"),l())}),a("#wrap").on("click",function(){!i&&h.hasClass("mobile-nav-on")&&h.removeClass("mobile-nav-on")})}(jQuery);